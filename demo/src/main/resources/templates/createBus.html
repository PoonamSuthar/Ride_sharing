<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create Bus Form</title>
    <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#addStopsBtn').click(function () {
                var numStops = parseInt($('#numStops').val()); // Get number of stops as integer
                var stopsSection = $('#stopsSection');
                stopsSection.empty(); // Clear previous content

                for (var i = 1; i <= numStops; i++) {
                    var stopHtml = '<div>'
                                + '<label>Stop ' + i + ' Location:</label>'
                                + '<input type="text" id="location' + i + '" name="stops[' + (i-1) + '].location" required><br>'
                                + '<label>Stop ' + i + ' Time:</label>'
                                + '<input type="time" id="time' + i + '" name="stops[' + (i-1) + '].time" required><br><br>'
                                + '</div>';
                    stopsSection.append(stopHtml);
                }
            });
        });
    </script>
</head>
<body>
<h2>Create Bus</h2>
<form action="#" th:action="@{/addStops}" th:object="${bus}" method="post">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required><br><br>

    <label for="seats">Number of Seats:</label>
    <input type="number" id="seats" name="seats" required><br><br>

    <label>Days of Operation:</label><br>
    <input type="checkbox" id="monday" name="daysOfOperation" value="MON">
    <label for="monday">Monday</label><br>
    <input type="checkbox" id="tuesday" name="daysOfOperation" value="TUE">
    <label for="tuesday">Tuesday</label><br>
    <input type="checkbox" id="wednesday" name="daysOfOperation" value="WED">
    <label for="wednesday">Wednesday</label><br>
    <input type="checkbox" id="thursday" name="daysOfOperation" value="THUR">
    <label for="thursday">Thursday</label><br>
    <input type="checkbox" id="friday" name="daysOfOperation" value="FRI">
    <label for="friday">Friday</label><br>
    <input type="checkbox" id="saturday" name="daysOfOperation" value="SAT">
    <label for="saturday">Saturday</label><br>
    <!-- Add checkboxes for other weekdays as needed -->

    <br>

    <label for="numStops">Number of Stops:</label>
    <input type="number" id="numStops" name="numStops" min="1" required><br><br>

    <button type="button" id="addStopsBtn">Add Stops</button>

    <div id="stopsSection">
        <!-- Stops fields will be dynamically added here -->
    </div>

    <br>
    <button type="submit">Create Bus</button>
</form>
</body>
</html>
